<div class="game-list">
  <h1>Game List</h1>

  <form (ngSubmit)="addGame()" *ngIf="!editGame">
    <h2>Add Game</h2>
    <input
      type="text"
      [(ngModel)]="newGame.title"
      name="title"
      placeholder="Title"
      required
    />
    <input
      type="text"
      [(ngModel)]="newGame.genre"
      name="genre"
      placeholder="Genre"
      required
    />
    <input
      type="number"
      [(ngModel)]="newGame.release_year"
      name="release_year"
      placeholder="Release Year"
      required
    />
    <button type="submit">Add</button>
  </form>

  <form (ngSubmit)="updateGame()" *ngIf="editGame">
    <h2>Edit Game</h2>
    <input
      type="text"
      [(ngModel)]="editGame.title"
      name="title"
      placeholder="Title"
      required
    />
    <input
      type="text"
      [(ngModel)]="editGame.genre"
      name="genre"
      placeholder="Genre"
      required
    />
    <input
      type="number"
      [(ngModel)]="editGame.release_year"
      name="release_year"
      placeholder="Release Year"
      required
    />
    <button type="submit">Update</button>
    <button type="button" (click)="cancelEdit()">Cancel</button>
  </form>

  <ul *ngIf="games.length > 0; else noData">
    <li *ngFor="let game of games">
      <h3>{{ game.title }}</h3>
      <p>Genre: {{ game.genre }}</p>
      <p>Release Year: {{ game.release_year }}</p>
      <button (click)="selectGameForEdit(game)">Edit</button>
      <button (click)="deleteGame(game.id)">Delete</button>
    </li>
  </ul>

  <ng-template #noData>
    <p>No games found. Check your database or API connection.</p>
  </ng-template>
</div>
